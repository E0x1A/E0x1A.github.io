<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Mr. SAM</title>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    :root {
      --primary-color: #00ffcc;
      --bg-color: #1a1a1a;
      --text-color: #e0e0e0;
    }
    html, body {
      height: 100%; min-height: 100vh; margin: 0; padding: 0; background-color: transparent;
      font-family: 'Vazirmatn', 'Fira Mono', monospace; color: var(--primary-color);
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      user-select: none; overflow: hidden; direction: rtl;
      display: flex; position: relative; touch-action: manipulation;
    }
    #tsparticles { position: fixed; width: 100%; height: 100%; z-index: -1; }
    html[lang="en"] { font-family: 'Fira Mono', monospace; direction: ltr; }

    #terminal {
      height: 100vh; width: 100vw; display: flex; flex-direction: column;
      background-color: transparent; padding: 10px; box-sizing: border-box;
      text-align: right; transition: width 0.3s ease; z-index: 1; overflow-y: auto;
    }
    html[lang="en"] #terminal { text-align: left; }
    .split #terminal { width: 50vw; }

    #output {
      flex-grow: 1; overflow-y: auto; white-space: pre-wrap; line-height: 1.4;
      font-size: 1rem; user-select: text; margin: 10px 0; color: #ffffff;
      text-align: inherit; max-height: calc(100vh - 80px); padding-bottom: 20px;
    }

    body:not(.terminal-mode) #output {
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        text-align: center;
    }
    .welcome-logo {
        font-family: 'Fira Mono', monospace; font-size: 2.5rem; font-weight: bold;
        color: #fff; text-shadow: 0 0 5px var(--primary-color), 0 0 10px var(--primary-color);
        animation: fadeIn 2s ease-in-out; cursor: pointer;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .welcome-hint {
        color: #777; font-size: 0.8rem; margin-top: 15px; cursor: pointer;
        animation: fadeIn 2s ease-in-out 0.5s; animation-fill-mode: backwards;
    }

    #output a { color: #00cc7a; text-decoration: underline; cursor: pointer; }
    #output a:hover { color: #00ff99; }

    #prompt-wrapper {
        display: none; align-items: center; border-top: 2px solid #ffffffcc;
        background: #000; padding: 8px; position: sticky; bottom: 0; z-index: 10;
    }
    body.terminal-mode #prompt-wrapper { display: flex; }
    html[lang="fa"] #prompt-wrapper { flex-direction: row-reverse; }

    #commandInput {
        border: none; background: transparent; color: #ffffff;
        font-family: 'Vazirmatn', 'Fira Mono', monospace; font-size: 1.1rem;
        outline: none; width: 100%; box-sizing: border-box; user-select: text;
        text-align: inherit;
    }
    html[lang="fa"] #commandInput { padding-right: 5px; }
    html[lang="en"] #commandInput { padding-left: 5px; }

    .lang-buttons {
        display: flex; gap: 12px; justify-content: center; width: 100%; z-index: 100;
        background-color: transparent; padding: 10px; margin: 0; position: sticky; top: 0;
    }
    .lang-btn {
        padding: 8px 16px; font-family: 'Vazirmatn', 'Fira Mono', monospace; font-size: 1rem;
        color: #ffffff; background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 5px; cursor: pointer;
        user-select: none; transition: background-color 0.3s ease; min-width: 100px;
        text-align: center; backdrop-filter: blur(5px);
    }
    .lang-btn:hover { background-color: rgba(255, 255, 255, 0.2); }
    .lang-btn.active { background-color: var(--primary-color); color: #000; cursor: default; }

    #gui-controls {
        display: none; flex-wrap: wrap; justify-content: center; align-items: center;
        gap: 15px; padding: 20px 0; width: 100%;
    }
    body:not(.terminal-mode) #gui-controls { display: flex; }

    .glass-btn {
        background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px; padding: 15px 25px; color: #e0e0e0;
        font-family: 'Vazirmatn', sans-serif; font-size: 1rem; font-weight: bold;
        cursor: pointer; transition: all 0.3s ease; backdrop-filter: blur(10px);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); display: flex;
        align-items: center; justify-content: center; gap: 10px; min-width: 200px;
    }
    html[lang="en"] .glass-btn { font-family: 'Fira Mono', monospace; }
    .glass-btn:hover {
        background: rgba(255, 255, 255, 0.15); transform: translateY(-3px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
    }
    .glass-btn i { font-size: 1.2rem; color: var(--primary-color); }
    
    #panel {
      display: none; width: 50vw; height: 100vh; background-color: #000; color: #ffffff;
      padding: 10px; box-sizing: border-box; overflow-y: auto; text-align: right;
      font-family: 'Vazirmatn', 'Fira Mono', monospace; animation: slideIn 0.3s ease;
      z-index: 50; border-left: 1px solid #30363d;
    }
    @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
    html[lang="en"] #panel { text-align: left; animation-name: slideInEn; border-left: none; border-right: 1px solid #30363d;}
    @keyframes slideInEn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
    
    #panel-content { margin-top: 40px; white-space: pre-wrap; height: calc(100% - 50px); position: relative; }
    #panel-content iframe { width: 100%; height: 100%; border: none; background-color: #1a1a1a; }
    
    #close-panel {
        position: absolute; top: 10px; left: 10px; padding: 4px 10px;
        background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px; color: #ffffff; font-family: 'Vazirmatn', sans-serif;
        cursor: pointer; z-index: 1000;
    }
    #close-panel:hover { background-color: rgba(255, 255, 255, 0.2); }
    
    .progress-container {
        position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%);
        width: 150px; height: 15px; background-color: #022a1c; border-radius: 8px;
        overflow: hidden; z-index: 1001; display: none;
        box-shadow: 0 0 8px rgba(0, 204, 122, 0.5);
    }
    .progress-bar { width: 0; height: 100%; background: linear-gradient(90deg, #00cc7a, #00ff99); transition: width 1.5s ease-in-out; }
    .progress-container.loading { display: block; }

    #output::-webkit-scrollbar, #panel::-webkit-scrollbar { width: 8px; }
    #output::-webkit-scrollbar-track, #panel::-webkit-scrollbar-track { background: #010409; }
    #output::-webkit-scrollbar-thumb, #panel::-webkit-scrollbar-thumb { background: #30363d; border-radius: 6px; }

    /* Other content styles */
    .visitor, .stats, .projects, .other-projects, .footer { margin-bottom: 15px; text-align: center; }
    .projects h2, .other-projects h2 { font-size: 1.3rem; margin-bottom: 8px; color: var(--primary-color); }
    .project-list-container { display: flex; flex-direction: column; align-items: center; width: 100%; gap: 8px; }
    .project-list-container > div { padding: 12px; background-color: #022a1c; border: 1px solid #00cc7a; border-radius: 6px; width: 90%; max-width: 350px; text-align: center; }
    .project-list-container a { color: var(--primary-color); font-size: 1rem; text-decoration: none; font-weight: bold; }
    .project-list-container a:hover { color: #33ff99; text-decoration: underline; }
    .project-list-container p { color: #ffffff; font-size: 0.8rem; margin-top: 5px; }
    .project-list { list-style: none; padding: 0; margin: 0; text-align: center; }
    .project-list li { margin: 8px 0; }
    .project-list a { color: #00cc7a; text-decoration: none; font-size: 0.9rem; }
    .project-list a:hover { color: #00ff99; text-decoration: underline; }


    @media (max-width: 768px) {
      body { overflow-y: auto; }
      .split #terminal { width: 100vw; }
      #gui-controls { flex-direction: column; align-items: center; }
      .glass-btn { width: 80%; padding: 20px; }
      #panel { width: 100vw; border: none; position: fixed; top: 0; left: 0; }
      .lang-buttons { position: fixed; top: 0; left: 0; right: 0; width: 100%; margin: 0; padding: 10px; z-index: 1001; background-color: #1a1a1a; }
      #terminal { padding-top: 70px; }
      body:not(.terminal-mode) #terminal { padding-top: 0; }
      body:not(.terminal-mode) .lang-buttons { position: sticky; }
    }
  </style>
</head>

<body>
  <div id="tsparticles"></div>

  <div id="terminal" role="main" aria-label="Terminal Portfolio">
    <div class="lang-buttons">
      <button class="lang-btn" id="langFaBtn" aria-label="تغییر به فارسی">فارسی</button>
      <button class="lang-btn" id="langEnBtn" aria-label="Switch to English">English</button>
    </div>
    <div id="gui-controls"></div>
    <pre id="output" aria-live="polite" aria-atomic="false"></pre>
    <div id="prompt-wrapper">
        <span id="prompt-label"></span>
        <input type="text" id="commandInput" autocomplete="off" autofocus aria-label="Command input" spellcheck="false" inputmode="text" />
    </div>
  </div>
  <div id="panel" role="dialog" aria-label="Content Panel">
    <button id="close-panel" aria-label="Close panel">X</button>
    <div id="panel-content"></div>
  </div>
  
  <script>
    const input = document.getElementById('commandInput');
    const output = document.getElementById('output');
    const langFaBtn = document.getElementById('langFaBtn');
    const langEnBtn = document.getElementById('langEnBtn');
    const panel = document.getElementById('panel');
    const panelContent = document.getElementById('panel-content');
    const closePanelBtn = document.getElementById('close-panel');
    const guiControls = document.getElementById('gui-controls');

    let lang = 'fa';
    let isTerminalMode = false;
    let cachedProjectsContent = null;
    let cachedAboutContent = {}; 
    let commandHistory = [];
    let historyIndex = -1;
    let introHasRun = { fa: false, en: false };

    const messages = {
      en: {
        intro: ["{ok}...Checking connection", "{ok}...Establishing secure tunnel", "{ok}...Traversing proxy layers", "{ok}...Encryption verification", "{ok}...Encryption confirmation and secure communication\n "],
        gibberish: ["0xFE34C_..AFF_&%..|#(*.._#", "SCANNING PORTS..|#_..[22, 80, 443]", "DECRYPTING DATA...sK29a#$..", "AUTH_TOKEN: 48fgb-bf4ca-8474a.."],
        prompt: "> ", welcome: `Welcome`, promptHelp: `Type 'help' for commands. Press 'Esc' to exit terminal mode.`,
        helpText: `Available commands:\n- about: Who am I\n- projects: Show my projects\n- tutorial: Windows, Linux & RE commands\n- news: Show latest security news\n- quote: Show a motivational quote\n- clear: Clear the terminal`,
        projectsLoading: `Fetching projects from GitHub...`, projectsError: `Error fetching projects. Visit: https://github.com/null-err0r`,
        langSwitched: `Language switched to English.`, cmdNotFound: `Command not found. Type 'help'.`,
        torDetected: `[!] Tor network detected.`, guiHint: "Press 'Esc' or click here to enter Terminal Mode"
      },
      fa: {
        intro: ["در حال بررسی ارتباط...{موفق}", "ایجاد تونل امن...{موفق}", "عبور از لایه‌های پروکسی...{موفق}", "تایید رمزنگاری و ارتباط امن...{موفق}", "دسترسی تایید شد...{موفق}\n "],
        gibberish: ["0xFE34C_..AFF_&%..|#(*.._#", "اسکن پورت‌ها..|#_..[۲۲، ۸۰، ۴۴۳]", "رمزگشایی اطلاعات...sK29a#$..", "کلید تایید: ۴۸فگب-بف۴چا-۸۴۷۴آ.."],
        prompt: "> ", welcome: `خوش آمدید`, promptHelp: `برای شروع 'راهنما' را تایپ کنید. برای خروج از حالت ترمینال کلید 'Esc' را فشار دهید.`,
        helpText: `دستورات موجود:\n- مشخصات: درباره من\n- کارها: نمایش پروژه‌ها\n- آموزش: دستورات ویندوز - لینوکس و مهندسی معکوس\n- اخبار: نمایش آخرین اخبار امنیتی\n- جمله: نمایش جمله انگیزشی\n- پاک کن: پاک کردن ترمینال`,
        projectsLoading: `در حال دریافت پروژه‌ها از GitHub...`, projectsError: `خطا در دریافت پروژه‌ها. به این آدرس مراجعه کنید: https://github.com/null-err0r`,
        langSwitched: `زبان به فارسی تغییر یافت.`, cmdNotFound: `دستور یافت نشد. برای مشاهده دستورات 'راهنما' را تایپ کنید.`,
        torDetected: `[!] شبکه Tor شناسایی شد.`, guiHint: "برای ورود به حالت ترمینال کلید 'Esc' را فشار دهید یا اینجا کلیک کنید"
      }
    };
    
    const quotes = {
      en: [
        "Code is like humor. When you have to explain it, it’s bad. – Cory House",
        "Programs must be written for people to read, and only incidentally for machines to execute. – Harold Abelson",
        "Any fool can write code that a computer can understand. Good programmers write code that humans can understand. – Martin Fowler",
        "The best way to predict the future is to invent it. – Alan Kay",
        "First, solve the problem. Then, write the code. – John Johnson",
        "Good code is its own best documentation. – Steve McConnell",
        "Simplicity is the soul of efficiency. – Austin Freeman",
        "Programming isn’t about what you know; it’s about what you can figure out. – Chris Pine",
        "Clean code always looks like it was written by someone who cares. – Robert C. Martin",
        "The only way to learn a new programming language is by writing programs in it. – Dennis Ritchie",
        "Talk is cheap. Show me the code. – Linus Torvalds",
        "Before software can be reusable, it first has to be usable. – Ralph Johnson",
        "Controlling complexity is the essence of computer programming. – Brian Kernighan",
        "Java is to JavaScript what car is to Carpet. – Chris Heilmann",
        "Walking on water and developing software from a specification are easy if both are frozen. – Edward V. Berard",
        "The most disastrous thing that you can ever learn is your first programming language. – Alan Kay",
        "A good programmer is someone who always looks both ways before crossing a one-way street. – Doug Linder",
        "In order to be irreplaceable, one must always be different." ,
        "Don’t comment bad code—rewrite it. – Brian Kernighan",
        "If debugging is the process of removing bugs, then programming must be the process of putting them in. – Edsger Dijkstra",
        "Make it work, make it right, make it fast. – Kent Beck",
        "Any code of your own that you haven’t looked at for six or more months might as well have been written by someone else. – Eagleson’s Law",
        "The purpose of software engineering is to control complexity, not to create it. – Pamela Zave",
        "Optimism is an occupational hazard of programming: feedback is the treatment. – Kent Beck",
        "There are only two kinds of programming languages: those people always bitch about and those nobody uses. – Bjarne Stroustrup",
        "It’s not a bug – it’s an undocumented feature. – Anonymous",
        "Programming can be fun, and so can cryptography; however, they should not be combined. – Kreitzberg and Shneiderman",
        "The best error message is the one that never shows up. – Thomas Fuchs",
        "Premature optimization is the root of all evil. – Donald Knuth",
        "A language that doesn’t affect the way you think about programming is not worth knowing. – Alan Perlis",
        "Simplicity does not precede complexity, but follows it. – Alan Perlis",
        "A program that has not been tested does not work. – Bjarne Stroustrup",
        "Code never lies, comments sometimes do. – Ron Jeffries",
        "Deleted code is debugged code. – Jeff Sickel",
        "You can’t have great software without a great team. – Joel Spolsky",
        "Experience is the name everyone gives to their mistakes. – Oscar Wilde",
        "There is no Ctrl+Z in production. – Anonymous",
        "The best way to get a project done faster is to start sooner. – Jim Highsmith",
        "Programming is the art of algorithm design and the craft of debugging errant code. – Ellen Ullman",
        "The trouble with programmers is that you can never tell what a programmer is doing until it’s too late. – Seymour Cray",
        "Software is a gas; it expands to fill its container. – Nathan Myhrvold",
        "A primary cause of complexity is that software vendors uncritically adopt almost any feature that users want. – Niklaus Wirth",
        "A computer is like a violin. You can imagine that it can make a beautiful sound, but it takes practice.– Sam Aaron",
        "Programming is thinking, not typing. – Casey Patton",
        "Programming is the closest thing we have to magic. – Anonymous",
        "Low-level programming is good for the programmer’s soul. – John Carmack",
        "When you program well, you feel like you’re building something alive. – Donald Knuth",
        "Every programming language teaches you a new way of thinking. – Alan Perlis",
        "The goal of learning to code isn’t to write code. It’s to understand the world better. – Cory House"
        
      ],
      fa: [
        "کدنویسی مثل شوخی است. وقتی مجبور باشی توضیحش بدهی، یعنی بد است. – کوری هاوس",
        "صحبت کردن ارزان است. کد را به من نشان بده.– لینوس توروالدز",
        "برنامه‌نویسی هنر طراحی الگوریتم و مهارت رفع اشکال کدهای خطا است.– الن اولمن",
        "برنامه‌نویسی ترکیبی از باغبانی و جراحی است.",
        "برنامه‌نویسی مهارتی است که بهترین راه یادگیری آن، تمرین و مثال است، نه کتاب‌ها.– آلن تورینگ",
        "برنامه‌نویسی درباره‌ی آنچه می‌دانید نیست؛ درباره‌ی آن چیزی است که می‌توانید کشف کنید.– کریس پاین",
        "برنامه‌نویسی هنر سازماندهی پیچیدگی و تسلط بر چندگانگی است.– ادسخر دیکسترا",
        "برنامه‌نویسی یکی از دشوارترین شاخه‌های ریاضیات کاربردی است؛ ریاضی‌دانان ضعیف بهتر است در ریاضیات محض باقی بمانند.– ادسخر دیکسترا",
        "برنامه‌نویسی سطح پایین برای روح برنامه‌نویس مفید است.– جان کارمک",
        "برنامه‌نویسی هنر طراحی الگوریتم و مهارت رفع اشکال کدهای خطا است.– الن اولمن",
        "برنامه‌نویسی ترکیبی از باغبانی و جراحی است." ,
        "اول مسئله را حل کن، سپس کد را بنویس.– جان جانسون",
        "برنامه‌نویسی درباره‌ی تایپ کردن نیست، بلکه درباره‌ی تفکر است.– منبع ناشناس",
        "برنامه‌نویسی هنر طراحی الگوریتم و مهارت رفع اشکال کدهای خطا است.– الن اولمن",
        "برنامه‌نویسی ترکیبی از باغبانی و جراحی است.",
        "برنامه‌نویسی مهارتی است که بهترین راه یادگیری آن، تمرین و مثال است، نه کتاب‌ها.– آلن تورینگ",
        "برنامه‌نویسی درباره‌ی آنچه می‌دانید نیست؛ درباره‌ی آن چیزی است که می‌توانید کشف کنید.– کریس پاین",
        "برنامه‌نویسی هنر سازماندهی پیچیدگی و تسلط بر چندگانگی است.– ادسخر دیکسترا",
        "برنامه‌نویسی یکی از دشوارترین شاخه‌های ریاضیات کاربردی است؛ ریاضی‌دانان ضعیف بهتر است در ریاضیات محض باقی بمانند.– ادسخر دیکسترا",
        "برنامه‌نویسی سطح پایین برای روح برنامه‌نویس مفید است.– جان کارمک",
        "برنامه‌نویسی هنر طراحی الگوریتم و مهارت رفع اشکال کدهای خطا است.– الن اولمن",
        "اگر اشکال‌زدایی فرآیند حذف باگ‌هاست، پس برنامه‌نویسی باید فرآیند وارد کردن آن‌ها باشد.– ادسخر دیکسترا",
        "اشکال‌زدایی دو برابر سخت‌تر از نوشتن کد در وهله اول است. بنابراین، اگر کد را به هوشمندانه‌ترین شکل ممکن بنویسید، به‌طور پیش‌فرض برای اشکال‌زدایی آن به اندازه کافی باهوش نیستید.– برایان کرنیگان",
        "بهینه‌سازی زودهنگام ریشه‌ی تمام شرور است.– دانلد کنوت",
        "برنامه‌نویسان مقدار زیادی زمان را صرف فکر کردن یا نگرانی درباره سرعت بخش‌های غیر بحرانی برنامه‌هایشان می‌کنند، و این تلاش‌ها در واقع تأثیر منفی قوی در هنگام اشکال‌زدایی و نگهداری دارند.– دانلد کنوت",
        "قبل از بهینه‌سازی، از یک پروفایلر برای شناسایی نقاط داغ برنامه استفاده کنید.– مایک مورتون",
        "در برنامه‌های غیر وابسته به I/O، کمتر از چهار درصد از برنامه معمولاً بیش از نیمی از زمان اجرا را مصرف می‌کند.– دانلد کنوت",
        "برنامه‌نویسان مقدار زیادی زمان را صرف فکر کردن یا نگرانی درباره سرعت بخش‌های غیر بحرانی برنامه‌هایشان می‌کنند، و این تلاش‌ها در واقع تأثیر منفی قوی در هنگام اشکال‌زدایی و نگهداری دارند.– دانلد کنوت",
        "بهینه‌سازی زودهنگام ریشه‌ی تمام شرور است.– دانلد کنوت",
        "برنامه‌نویسان مقدار زیادی زمان را صرف فکر کردن یا نگرانی درباره سرعت بخش‌های غیر بحرانی برنامه‌هایشان می‌کنند، و این تلاش‌ها در واقع تأثیر منفی قوی در هنگام اشکال‌زدایی و نگهداری دارند.– دانلد کنوت",
        "بهینه‌سازی زودهنگام ریشه‌ی تمام شرور است.– دانلد کنوت",
        "کد خوب بهترین مستندات خودش است. وقتی می‌خواهید یک توضیح اضافه کنید، از خود بپرسید: چگونه می‌توانم کد را بهبود دهم تا این توضیح لازم نباشد؟– استیو مک‌کانل",
        "کد هرگز دروغ نمی‌گوید، اما توضیحات گاهی اوقات این کار را می‌کنند.– ران جفریز",
        "اگر کد و توضیحات با هم تناقض داشته باشند، احتمالاً هر دو اشتباه هستند.– نورم شرایر",
        "برنامه‌ها باید برای خواندن انسان‌ها نوشته شوند، و تنها به صورت اتفاقی برای اجرا توسط ماشین‌ها.– هارولد آبِل‌سون و جرالد ساسمن",
        "هر کسی می‌تواند کدی بنویسد که کامپیوتر بفهمد، برنامه‌نویسان خوب کدی می‌نویسند که انسان‌ها بفهمند.– مارتین فاولر",
        "کد هرگز دروغ نمی‌گوید، اما توضیحات گاهی اوقات این کار را می‌کنند.– ران جفریز",
        "اگر کد و توضیحات با هم تناقض داشته باشند، احتمالاً هر دو اشتباه هستند.– نورم شرایر",
        "برنامه‌ها باید برای خواندن انسان‌ها نوشته شوند، و تنها به صورت اتفاقی برای اجرا توسط ماشین‌ها.– هارولد آبِل‌سون و جرالد ساسمن",
        "هر کسی می‌تواند کدی بنویسد که کامپیوتر بفهمد، برنامه‌نویسان خوب کدی می‌نویسند که انسان‌ها بفهمند.– مارتین فاولر",
        "برنامه‌نویسی هنر طراحی الگوریتم و مهارت رفع اشکال کدهای خطا است.– الن اولمن",
        "برنامه‌نویسی ترکیبی از باغبانی و جراحی است.",
        "برنامه‌نویسی مهارتی است که بهترین راه یادگیری آن، تمرین و مثال است، نه کتاب‌ها.– آلن تورینگ",
        "برنامه‌نویسی درباره‌ی آنچه می‌دانید نیست؛ درباره‌ی آن چیزی است که می‌توانید کشف کنید.– کریس پاین",
        "برنامه‌نویسی هنر سازماندهی پیچیدگی و تسلط بر چندگانگی است.– ادسخر دیکسترا",
        "برنامه‌نویسی یکی از دشوارترین شاخه‌های ریاضیات کاربردی است؛ ریاضی‌دانان ضعیف بهتر است در ریاضیات محض باقی بمانند.– ادسخر دیکسترا",
        "برنامه‌نویسی سطح پایین برای روح برنامه‌نویس مفید است.– جان کارمک",
        "وقتی خوب برنامه‌نویسی می‌کنید، احساس می‌کنید انگار در حال ساختن چیزی زنده هستید.– دونالد کنوت",
        "هر زبان برنامه‌نویسی، طرز تفکر جدیدی به تو می‌آموزد.– آلن پرلیس",
        "هدف نهایی از یادگیری برنامه‌نویسی این نیست که فقط کد بنویسی، بلکه این است که دنیا را بهتر درک کنی.– کوری هاوس"
      ]
    };

    const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));
    const isMobileDevice = () => /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    const isTorDetected = () => (!window.matchMedia('(prefers-color-scheme:dark)').matches && typeof chrome !== "object" && !navigator.requestMIDIAccess);
    const makeLinksClickable = (text) => text.replace(/(?<!["'=])(https?:\/\/[^\s<>“']+)/g, '<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>');

    async function runIntroAnimation() {

        input.disabled = true;
        output.innerHTML = '';
        for(let i=0; i < 8; i++) {
            output.innerHTML = makeLinksClickable(messages[lang].gibberish[Math.floor(Math.random() * messages[lang].gibberish.length)]);
            await sleep(80);
        }
        output.innerHTML = '';
        await sleep(200);
        for (const line of messages[lang].intro) {
            let formattedLine = line.replace('{ok}', '<span style="color: #00ff99;">✓</span>').replace('{موفق}', '<span style="color: #00ff99;">✓</span>');
            output.innerHTML += makeLinksClickable(formattedLine + '\n');
            await sleep(400);
        }
        await sleep(500);
    }
    
    function openPanel(content) {
      document.body.classList.add('split');
      panel.style.display = 'block';
      panelContent.innerHTML = `<div class="progress-container" id="progressContainer"><div class="progress-bar" id="progressBar"></div></div>${content}`;
      const progressContainer = panelContent.querySelector('#progressContainer');
      const progressBar = panelContent.querySelector('#progressBar');
      if (progressContainer && progressBar) {
          progressContainer.classList.add('loading');
          setTimeout(() => { progressBar.style.width = '100%'; setTimeout(() => progressContainer.classList.remove('loading'), 1500); }, 100);
      }
    }

    function closePanel() {
      document.body.classList.remove('split');
      panel.style.display = 'none';
      panelContent.innerHTML = '';
      if(isTerminalMode) input.focus();
    }
    
async function fetchProjects() {
      const importantRepoNames = [ 
        'Advanced-Mic-Camera-Monitor',
        'Hiden-Text-Detector',
        'YouTube-Downloader',
        'Filtering-Analysis-Tool',
        'TimeZone',
        'DB-Search-GUI',
        'null-err0r', 
        'null-err0r.github.io' 
      ];
      try {
        const response = await fetch('https://api.github.com/users/null-err0r/repos');
        const data = await response.json();

        let otherRepoListHtml = '<div class="other-projects"><h2 class="center"></h2><ul class="project-list">';
        
        const filteredRepos = data.filter(repo => 
             !repo.fork
        );

       
        filteredRepos.sort((a, b) => a.name.localeCompare(b.name));

        filteredRepos.forEach(repo => {
            otherRepoListHtml += `<li><a href="${repo.html_url}" target="_blank">${repo.name}</a></li>`;
        });
        otherRepoListHtml += '</ul></div>';

        return `

<div class="container" style="display: flex; flex-direction: column; align-items: center; gap: 30px; max-width: 100%; margin: auto;">

  <div class="row" style="display: flex; justify-content: center; flex-wrap: wrap; width: 100%;">
    <img loading="lazy" src="http://github-profile-summary-cards.vercel.app/api/cards/profile-details?username=null-err0r&theme=gruvbox" alt="Profile Details" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
  </div>

  <div class="row" style="display: flex; justify-content: center; flex-wrap: wrap; width: 100%;">
    <img loading="lazy" src="http://github-profile-summary-cards.vercel.app/api/cards/repos-per-language?username=null-err0r&theme=gruvbox" alt="Repos per Language" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
    <img loading="lazy" src="http://github-profile-summary-cards.vercel.app/api/cards/most-commit-language?username=null-err0r&theme=gruvbox" alt="Most Commit Language" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
  </div>

  <div class="row" style="display: flex; justify-content: center; flex-wrap: wrap; width: 100%;">
    <img loading="lazy" src="http://github-profile-summary-cards.vercel.app/api/cards/stats?username=null-err0r&theme=gruvbox" alt="Stats" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
    <img loading="lazy" src="http://github-profile-summary-cards.vercel.app/api/cards/productive-time?username=null-err0r&theme=gruvbox&utcOffset=8" alt="Productive Time" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
  </div>

  <div class="row" style="display: flex; justify-content: center; width: 100%;">
    <img loading="lazy" src="https://github-readme-streak-stats.herokuapp.com/?user=null-err0r&theme=gruvbox" alt="GitHub Streak" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
  </div>

  <div class="row" style="display: flex; justify-content: center; width: 100%;">
    <img loading="lazy" src="https://github-profile-trophy.vercel.app/?username=null-err0r&theme=gruvbox&no-frame=true&margin-w=15&margin-h=15&row=2&column=4" alt="Trophies" style="max-width: 100%; height: auto; pointer-events: none; user-select: none; display: block;" />
  </div>

          <div class="projects">
            <h2 class="center">📂</h2>
            <div class="project-list-container">
            <div>
                  <a href="https://github.com/null-err0r/Advanced-Mic-Camera-Monitor" target="_blank">Advanced Mic Camera Monitor</a>
                  <p>🛡️ مانیتورینگ میکروفن و دوربین برای شناسایی فعالیت‌های مشکوک و جاسوسی</p>
             </div>
             <div>
                 <a href="https://github.com/null-err0r/Hiden-Text-Detector" target="_blank">Hidden Text Detector</a>
                 <p>🧐 کشف متون پنهان در صفحات یا تصاویر با تکنیک‌های بینایی ماشین</p>
            </div>
           <div>
                 <a href="https://github.com/null-err0r/TimeZone" target="_blank">TimeZone</a>
                 <p>⏰🌍  تایم‌زون‌های سفارشی برای برنامه‌های جداگانه روی اندروید روت‌شده</p>
           </div>
           <div>
                <a href="https://github.com/null-err0r/Filtering-Analysis-Tool" target="_blank">Filtering Analysis Tool</a>
                <p>🧱 ابزار تحلیل شبکه برای شناسایی فیلترینگ</p>
           </div>
           <div>
                <a href="https://github.com/null-err0r/DB-Search-GUI" target="_blank">DB Search GUI</a>
                <p>🔎 جستجو در فایل‌های دیتابیس متنی با پشتیبانی از فارسی </p>
           </div>
           <div>
                <a href="https://github.com/null-err0r/YouTube-Downloader" target="_blank">YouTube Downloader</a>
                <p>▶️ دانلود ویدیو و صدا از یوتیوب با پشتیبانی از کیفیت‌های مختلف و رابط گرافیکی</p>
            </div>
          </div>
          ${otherRepoListHtml} 
          <div style="display: flex; justify-content: center; width: 100%;">
            <br> </br>
             <img loading="lazy" src="https://ghvc.kabelkultur.se/?username=null-err0r&abbreviated=true&color=ff5500&label=%E2%81%AE%20%E2%81%AE%E2%81%AE%20%E2%81%AE%E2%81%AE%20%F0%9F%91%80%20%E2%81%AE%20%E2%81%AE%E2%81%AE%20%E2%81%AE%E2%81%AEVisitor%E2%81%AE%20%E2%81%AE%E2%81%AE%20%E2%81%AE%E2%81%AE%20%F0%9F%91%80%E2%81%AE%20%E2%81%AE%E2%81%AE%20%E2%81%AE%E2%81%AE%E2%81%AE%20%E2%81%AE%E2%81%AE%20%E2%81%AE%E2%81%AE⁮⁮" alt="Visitor Counter" />
            <br> </br>
          </div>
          `;

      } catch (error) {
        console.error('Error fetching repositories:', error);
        return makeLinksClickable(messages[lang].projectsError);
      }
    }
    

    const getAboutContent = (currentLang) => {
        const bioStyle = `...`; 
        const commonHtmlStart = `
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
            <style>.bio-container * { box-sizing: border-box; } .bio-container { max-width: 480px; margin: 0 auto; text-align: center; color: #f0f0f0; padding: 1rem; } .bio-container .avatar { width: 200px; height: 200px; border-radius: 50%; margin: 1rem auto; object-fit: contain; background-color: #000; border: 3px solid #f0f0f0; } .avatar-wrapper { position: relative; display: inline-block; } .glow-ring { content: ''; position: absolute; top: -15px; left: -15px; width: calc(100% + 30px); height: calc(100% + 30px); border-radius: 50%; background: conic-gradient(from 0deg, #00ffcc, #002a17, #00ffcc); animation: spin 4s linear infinite; z-index: -1; filter: blur(12px) brightness(1.5); } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } .bio-container h1 { font-size: 1.5rem; margin: 0.5rem 0; } .bio-container .bio { color: #ccc; font-size: 1rem; margin-bottom: 2rem; } .bio-container .link-button { display: flex; align-items: center; justify-content: center; text-decoration: none !important; margin: 0.5rem 0; padding: 1rem; background: rgba(255, 255, 255, 0.05); color: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.3); transition: transform 0.2s ease, background 0.2s; } .bio-container .link-button:hover { transform: scale(1.02); background: rgba(255, 255, 255, 0.15); } .bio-container .link-button i { margin-left: 0.5rem; } #panel-content {white-space: normal;}</style>
            <div class="bio-container">
              <div class="avatar-wrapper">
                <div class="glow-ring"></div>
                <img src="https://avatars.githubusercontent.com/u/19436819?v=4" alt="Avatar" class="avatar">
              </div>`;
        const commonHtmlEnd = `
              <a class="link-button" href="https://github.com/Null-Err0r" target="_blank" rel="noopener noreferrer"><i class="fab fa-github" style="font-size:1.2em; vertical-align:middle;"></i>GitHub</a>
              <a class="link-button" href="https://t.me/NullErr0r" target="_blank" rel="noopener noreferrer"><i class="fab fa-telegram" style="font-size:1.2em; vertical-align:middle;"></i>Telegram</a>
              <a class="link-button" href="https://x.com/0x0Err0r" target="_blank" rel="noopener noreferrer"><i class="fab fa-twitter" style="font-size:1.2em; vertical-align:middle;"></i>X (Twitter)</a>
              <a class="link-button" href="mailto:NullError@duck.com" target="_blank" rel="noopener noreferrer"><i class="fa-solid fa-envelope" style="font-size:1.2em; vertical-align:middle;"></i>Email</a>
            </div>`;

        if (currentLang === 'fa') {
            return `${commonHtmlStart}<h1>اسماعیل اسدی</h1><p class="bio">توسعه‌دهنده، پژوهشگر و علاقه‌مند به تکنولوژی</p>${commonHtmlEnd}`;
        } else {
            return `${commonHtmlStart}<h1>Esmail Asadi</h1><p class="bio">Developer, Researcher, and Tech Enthusiast</p>${commonHtmlEnd}`;
        }
    };

    const commandFunctions = {
        'about': () => {
            if (!cachedAboutContent[lang]) cachedAboutContent[lang] = getAboutContent(lang);
            openPanel(cachedAboutContent[lang]); return '';
        },
        'projects': async () => {
            openPanel(messages[lang].projectsLoading);
            if (!cachedProjectsContent) cachedProjectsContent = await fetchProjects();
            openPanel(cachedProjectsContent); return '';
        },
        'news': () => { openPanel(`<iframe src="news.html"></iframe>`); return ''; },
        'tutorial': () => { openPanel(`<iframe src="terminal.html"></iframe>`); return ''; },
        'quote': () => { const arr = lang === 'fa' ? quotes.fa : quotes.en; return arr[Math.floor(Math.random() * arr.length)]; },
        'clear': () => { initTerminal(true); return ''; }
    };
    
    const commandStructure = {
      en: {
        'about': { fn: commandFunctions.about, label: "About Me", icon: "fa-solid fa-user-astronaut" },
        'projects': { fn: commandFunctions.projects, label: "Projects", icon: "fa-solid fa-laptop-code" },
        'tutorial': { fn: commandFunctions.tutorial, label: "Tutorials", icon: "fa-solid fa-terminal" },
        'news': { fn: commandFunctions.news, label: "Security News", icon: "fa-solid fa-newspaper" },
        'quote': { fn: commandFunctions.quote, label: "Get a Quote", icon: "fa-solid fa-quote-left" },
        'help': { fn: () => messages.en.helpText }, 'clear': { fn: commandFunctions.clear }
      },
      fa: {
        'مشخصات': { fn: commandFunctions.about, label: "مشخصات", icon: "fa-solid fa-user-astronaut" },
        'کارها': { fn: commandFunctions.projects, label: "پروژه‌ها", icon: "fa-solid fa-laptop-code" },
        'آموزش': { fn: commandFunctions.tutorial, label: "آموزش", icon: "fa-solid fa-terminal" },
        'اخبار': { fn: commandFunctions.news, label: "اخبار امنیتی", icon: "fa-solid fa-newspaper" },
        'جمله': { fn: commandFunctions.quote, label: "جمله انگیزشی", icon: "fa-solid fa-quote-left" },
        'راهنما': { fn: () => messages.fa.helpText }, 'پاک کن': { fn: commandFunctions.clear }
      }
    };

    function populateGuiButtons() {
        guiControls.innerHTML = '';
        const commandSet = lang === 'fa' ? commandStructure.fa : commandStructure.en;
        for (const cmdKey in commandSet) {
            if (!commandSet[cmdKey].label) continue;
            const button = document.createElement('button');
            button.className = 'glass-btn';
            button.dataset.command = cmdKey;
            button.innerHTML = `<i class="${commandSet[cmdKey].icon}"></i> <span>${commandSet[cmdKey].label}</span>`;
            guiControls.appendChild(button);
        }
    }

    function showGuiWelcome() {
        output.innerHTML = `<div class="welcome-logo" onclick="toggleTerminalMode()">&lt;Mr.SAM /&gt;</div><div class="welcome-hint" onclick="toggleTerminalMode()">${messages[lang].guiHint}</div>`;
        document.body.classList.remove('terminal-mode'); closePanel();
    }

async function initTerminal(isSwitch = false) {
    document.body.classList.add('terminal-mode');
    output.innerHTML = '';
    input.value = '';


    let initialText = '';
    if (isTorDetected()) {
        initialText += messages[lang].torDetected + '\n\n';
    }
    if (isSwitch) {
        initialText += messages[lang].langSwitched + '\n\n';
    }
    initialText += `${messages[lang].welcome}\n${messages[lang].promptHelp}\n\n`;


    let outputHTML = makeLinksClickable(initialText);


    const hintHTML = `<div class="welcome-hint" style="text-align: inherit; font-size: 0.9rem; margin-top: 10px;" onclick="toggleTerminalMode()">${messages[lang].guiHint}</div>`;
    outputHTML += hintHTML;

 
    output.innerHTML = outputHTML;

    input.disabled = false;
    input.focus();
    closePanel();
}

    function toggleTerminalMode() {
        isTerminalMode = !isTerminalMode;
        if (isTerminalMode) { initTerminal(); } else { showGuiWelcome(); }
    }

async function switchLanguage(newLang) {
    lang = newLang;
    document.documentElement.lang = lang;
    document.documentElement.style.direction = lang === 'fa' ? 'rtl' : 'ltr';
    langFaBtn.classList.toggle('active', lang === 'fa');
    langEnBtn.classList.toggle('active', lang === 'en');
    cachedProjectsContent = null;
    cachedAboutContent = {};
    
    populateGuiButtons();
    closePanel();

    if (isTerminalMode) {
        initTerminal(true);
    } else if (!introHasRun[lang]) {
        await runIntroAnimation();
        introHasRun[lang] = true;
        showGuiWelcome();
    } else {
        showGuiWelcome();
    }
}

    langFaBtn.addEventListener('click', () => lang !== 'fa' && switchLanguage('fa'));
    langEnBtn.addEventListener('click', () => lang !== 'en' && switchLanguage('en'));
    closePanelBtn.addEventListener('click', closePanel);

guiControls.addEventListener('click', async (e) => {
    const button = e.target.closest('.glass-btn'); if (!button) return;
    const command = button.dataset.command;
    const commandSet = lang === 'fa' ? commandStructure.fa : commandStructure.en;
    if (command && commandSet[command]) {
        const wasInGuiMode = !isTerminalMode;
        const result = await commandSet[command].fn();
        
        if (result) {
            if (wasInGuiMode) {
                toggleTerminalMode();
            }
            setTimeout(() => {
                let outputToAdd = makeLinksClickable(`\n> ${command}\n${result}\n\n`);
              
                if (wasInGuiMode) {
                    const hintHTML = `<div class="welcome-hint" style="text-align: inherit; font-size: 0.9rem; margin-top: 10px;" onclick="toggleTerminalMode()">${messages[lang].guiHint}</div>`;
                    outputToAdd += hintHTML;
                }
                output.innerHTML += outputToAdd;
                output.scrollTop = output.scrollHeight;
            }, 100); 
        }
    }
});

    input.addEventListener('keydown', async (e) => {
      if (e.key === 'Enter') {
        e.preventDefault(); const cmdText = input.value.trim();
        output.innerHTML += makeLinksClickable(`\n> ${cmdText}\n`);
        if (cmdText) {
            commandHistory.push(cmdText); historyIndex = commandHistory.length;
            const commandSet = lang === 'fa' ? commandStructure.fa : commandStructure.en;
            if (commandSet[cmdText.toLowerCase()]) {
                const res = await commandSet[cmdText.toLowerCase()].fn();
                if (res) output.innerHTML += makeLinksClickable(`${res}\n\n`);
            } else { output.innerHTML += makeLinksClickable(`${messages[lang].cmdNotFound}\n\n`); }
        }
        input.value = ''; output.scrollTop = output.scrollHeight;
      } else if (e.key === 'ArrowUp') { /* command history logic */ }
      else if (e.key === 'ArrowDown') { /* command history logic */ }
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            if (panel.style.display === 'block') closePanel(); else toggleTerminalMode();
        }
    });
    
    window.onload = () => {
        if (isMobileDevice()) document.body.classList.add('mobile');
        switchLanguage('fa');
    };
  </script>
 
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
  <script>

    tsParticles.load({
      id: "tsparticles", 
      options: {
        fullScreen: { enable: true, zIndex: -1 },
        background: { color: "#1a1a1a" },
        particles: {
          number: { value: 100, density: { enable: true, value_area: 800 } },
          color: { value: ["#ffffff", "#ffccdd", "#ccffdd"], animation: { enable: true, speed: 20, sync: false } },
          shape: { type: ["circle", "triangle", "star"], },
          opacity: { value: { min: 0.3, max: 0.8 }, animation: { enable: true, speed: 1, minimumValue: 0.1 } },
          size: { value: { min: 1, max: 5 }, animation: { enable: true, speed: 3, minimumValue: 0.5 } },
          links: { enable: true, distance: 150, color: "#ffffff", opacity: 0.5, width: 1 },
          move: { enable: true, speed: { min: 1, max: 3 }, direction: "none", random: true, outModes: { default: "bounce" } }
        },
        interactivity: {
          detect_on: "canvas",
          events: {
            onHover: { enable: true, mode: ["grab", "repulse"], parallax: { enable: true, force: 60, smooth: 10 } },
            onClick: { enable: true, mode: "push" }
          },
          modes: {
            grab: { distance: 200, links: { opacity: 0.7 } },
            repulse: { distance: 150, duration: 0.4 },
            push: { quantity: 4 }
          }
        },
        retina_detect: true, fpsLimit: 60 
      }
    });
  </script>

</body>
</html>
